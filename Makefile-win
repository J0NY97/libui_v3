RESET	:= "\e[0m"
YELLOW	:= "\e[0;33m"

NAME = libui.a
SRCS = ./ui_element.c \
       ./ui_button.c \
       ./ui_label.c \
       ./ui_menu.c \
       ./ui_checkbox.c \
       ./ui_dropdown.c \
       ./ui_slider.c \
       ./ui_input.c \
       ./ui_tab.c \
       ./ui_radio.c \
       ./ui_window.c \
       ./ui_layout.c \
       ./ui_texture.c \
       ./ui_load.c \
       ./ui_init.c \
       ./ui_help.c \
       ./ui_surface.c \
       ./ui_vec.c \

OBJS = $(SRCS:.c=.o)
JOHNNY = $(SRCS:.c=.d)

all: $(NAME)

-include $(JOHNNY)

LIB_FOLDER	:= ../
SDL_DIR		:= $(LIB_FOLDER)/SDL
SDL_INC		:= -I$(SDL_DIR)/include

ODIR = .
CDIR = .

$(ODIR)/%.o: $(CDIR)/%.c
	@gcc -c $< -o $@ -MMD \
		-I$(LIB_FOLDER)/libpf \
		-I$(LIB_FOLDER)/libft \
		$(SDL_INC)
	@printf $(YELLOW)"\e[F\e[JCompiling $<\n"$(RESET)

$(NAME): $(OBJS)
	@sh ui_path_win.sh
	@ar rc $(NAME) $(OBJS)
	@ranlib $(NAME)
	@echo "$(NAME) was successfully created."

test:
	gcc -o test main.c -I$(LIB_FOLDER)/libui -L$(LIB_FOLDER)/libui -lui -I$(LIB_FOLDER)/libpf -L$(LIB_FOLDER)/libpf -lpf -I$(LIB_FOLDER)/libft -L$(LIB_FOLDER)/libft -lft $(SDL_INC) -L$(LIB_FOLDER)/SDL/lib -lSDL2 -lSDL2_image -lSDL2_TTF

clean:
	@rm -f $(OBJS)
	@rm -f $(JOHNNY)
	@echo "$(NAME) was cleaned."

fclean: clean
	@rm -f $(NAME)

re: fclean all

.PHONY: clean, all, re, fclean, test
